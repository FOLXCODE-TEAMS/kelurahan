<div class="flex h-full flex-col space-y-3">
  <app-fc-action-bar
    [isHasBackButton]="true"
    [actionButtons]="actionButtons"
    [filterButtons]="filterButtons" />
  <div class="body h-full w-full overflow-y-auto text-xs">
    <div
      *ngIf="!loading"
      class="mx-auto mt-2 grid w-full gap-10 mb-16 md:mb-0 lg:mb-0">
      <!-- Company Data -->
      <div class="flex-1">
        <p class="mb-3 text-sm">Branch Information</p>
        <form class="grid gap-3" [formGroup]="branchForm">
          <label
            class="form-input border border-transparent flex flex-col rounded-lg bg-light-lowest p-2 dark:bg-dark-low focus-within:border-light-lowest focus-within:dark:border-dark-lowest"
            for="address">
            <p
              class="m-0 block p-0 text-2xs font-medium leading-5 text-dark-lowest dark:text-white/60">
              Address
            </p>
            <input
              class="input m-0 w-full bg-light-lowest p-0 text-xs ring-0 focus:outline-none focus:ring-0 dark:bg-dark-low"
              type="text"
              id="address"
              formControlName="address"
              placeholder="Enter Branch Adress" />
          </label>
          <label
            class="form-input flex flex-col rounded-lg bg-light-lowest p-2 dark:bg-dark-low"
            for="note">
            <p
              class="m-0 block p-0 text-2xs font-medium leading-5 text-dark-lowest dark:text-white/60">
              Note
            </p>
            <textarea
              class="m-0 h-24 w-full bg-light-lowest p-0 text-xs ring-0 focus:outline-none focus:ring-0 dark:bg-dark-low"
              type="text"
              formControlName="note"
              id="note"
              placeholder="Enter Your Note"></textarea>
          </label>
        </form>
      </div>
      <!-- Companies Data -->
      <div class="flex-1">
        <div class="mb-3 flex items-center justify-between">
          <p class="text-sm">Companies</p>
          <button
            type="button"
            (click)="onAddCompanies()"
            class="fc-animate-translate-up flex gap-1 text-xs">
            <fa-icon class="" [icon]="faPlus"></fa-icon>
            Add Company
          </button>
        </div>
        <div
          class="flex h-full items-center justify-center"
          *ngIf="companies.length == 0">
          <div class="text-center text-sm">
            <fa-icon class="" [icon]="faBoxOpen"></fa-icon>
            Empty Company
          </div>
        </div>
        <div *ngIf="companies" class="grid gap-2">
          <ng-container *ngFor="let company of companies">
            <div
              (dblclick)="navigateToCompany(company.id)"
              class="fc-animate-translate-up flex w-full cursor-pointer items-center justify-between rounded-md border border-light-low bg-light-lowest p-2 hover:border-primary-light dark:border-dark-low dark:bg-dark-low hover:dark:border-primary-light">
              <p>{{ company.name }}</p>
              <button
                type="button"
                class="btn btn-high"
                (click)="navigateToCompany(company.id)">
                <i class="pi pi-eye text-xs"></i>
              </button>
            </div>
          </ng-container>
        </div>
      </div>
    </div>
    <div class="py-[20vh] text-center" *ngIf="loading">
      <i class="pi pi-spin pi-spinner" style="font-size: 2rem"></i>
      <p>Loading . . .</p>
    </div>
  </div>
</div>
